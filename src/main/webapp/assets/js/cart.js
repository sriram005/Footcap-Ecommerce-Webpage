const ITEMS_ALL = [
  //ALL Shoes
  {
    id: 1,
    name: "Running Sneaker Shoes",
    brand: "all",
    price: 2999,
    image: 'assets/images/product-1.jpg',
    qty: 1,
  },
  {
    id: 2,
    name: "Leather Mens Slipper",
    brand: "all",
    price: 2499,
    image: 'assets/images/product-2.jpg',
    qty: 1,
  },
  {
    id: 3,
    name: "Nike Flyknit",
    brand: "all",
    price: 1999,
    image: 'assets/images/product-3.jpg',
    qty: 1,
  },
  {
    id: 4,
    name: "Nike Flyknit",
    brand: "all",
    price: 3999,
    image: 'assets/images/product-4.jpg',
    qty: 1,
  },
  {
    id: 5,
    name: "Nike Joyride",
    brand: "all",
    price: 4999,
    image: 'assets/images/product-5.jpg',
    qty: 1,
  },
  {
    id: 6,
    name: "Adidas Ultraboost",
    brand: "all",
    price: 4499,
    image: 'assets/images/product-6.jpg',
    qty: 1,
  },
  {
    id: 7,
    name: "Adidas Copa",
    brand: "all",
    price: 2499,
    image: 'assets/images/product-7.jpg',
    qty: 1,
  },
  {
    id: 8,
    name: "Puma  Electron 2.0",
    brand: "all",
    price: 3499,
    image: 'assets/images/product-8.jpg',
    qty: 1,
  },

]
const ITEMS_NIKE = [
  //NIKE Shoes [ 9-16 ]
  {
    id: 9,
    name: "Air Force 1",
    brand: "nike",
    price: 1999,
    image: 'assets/images/men/Nike/m-nike-1.png',
    qty: 1,
  },
  {
    id: 10,
    name: "Nike FlyEase",
    brand: "nike",
    price: 1499,
    image: 'assets/images/men/Nike/m-nike-2.png',
    qty: 1,
  },
  {
    id: 11,
    name: "Nike Flyknit",
    brand: "nike",
    price: 1999,
    image: 'assets/images/men/Nike/m-nike-3.png',
    qty: 1,
  },
  {
    id: 12,
    name: "Nike Free",
    brand: "nike",
    price: 3999,
    image: 'assets/images/men/Nike/m-nike-4.png',
    qty: 1,
  },
  {
    id: 13,
    name: "Nike Joyride",
    brand: "nike",
    price: 4999,
    image: 'assets/images/men/Nike/m-nike-5.png',
    qty: 1,
  },
  {
    id: 14,
    name: "Nike React",
    brand: "nike",
    price: 1499,
    image: 'assets/images/men/Nike/m-nike-6.png',
    qty: 1,
  },
  {
    id: 15,
    name: "Nike ZoomX",
    brand: "nike",
    price: 3499,
    image: 'assets/images/men/Nike/m-nike-7.png',
    qty: 1,
  },
  {
    id: 16,
    name: "Nike Air Max",
    brand: "nike",
    price: 2499,
    image: 'assets/images/men/Nike/m-nike-8.png',
    qty: 1,
  },

]
const ITEMS_PUMA = [
  //Puma Shoes [ 17-24 ]
  {
    id: 17,
    name: "PUMA Cali",
    brand: "puma",
    price: 2999,
    image: 'assets/images/men/puma/m-puma-1.png',
    qty: 1,
  },
  {
    id: 18,
    name: "PUMA Carina",
    brand: "puma",
    price: 3499,
    image: 'assets/images/men/puma/m-puma-2.png',
    qty: 1,
  },
  {
    id: 19,
    name: "PUMA Fenty",
    brand: "puma",
    price: 1999,
    image: 'assets/images/men/puma/m-puma-3.png',
    qty: 1,
  },
  {
    id: 20,
    name: "PUMA Ignite",
    brand: "puma",
    price: 2499,
    image: 'assets/images/men/puma/m-puma-4.png',
    qty: 1,
  },
  {
    id: 21,
    name: "PUMA Suede",
    brand: "puma",
    price: 4499,
    image: 'assets/images/men/puma/m-puma-5.png',
    qty: 1,
  },
  {
    id: 22,
    name: "PUMA MB.01",
    brand: "puma",
    price: 2699,
    image: 'assets/images/men/puma/m-puma-6.png',
    qty: 1,
  },
  {
    id: 23,
    name: "Puma  Electron 2.0",
    brand: "puma",
    price: 3499,
    image: 'assets/images/men/puma/m-puma-7.png',
    qty: 1,
  },
  {
    id: 24,
    name: "PUMA MB.02",
    brand: "puma",
    price: 2999,
    image: 'assets/images/men/puma/m-puma-8.png',
    qty: 1,
  },

]

const ITEMS_NIKE_SPECIAL = [
  //NIKE Shoes [ 9-16 ]
  {
    id: 9,
    name: "Air Force 1",
    brand: "nike",
    price: 1999,
    image: 'assets/images/men/Nike/m-nike-1.png',
    qty: 1,
  },
  {
    id: 10,
    name: "Nike FlyEase",
    brand: "nike",
    price: 1499,
    image: 'assets/images/men/Nike/m-nike-2.png',
    qty: 1,
  },
  {
    id: 11,
    name: "Nike Flyknit",
    brand: "nike",
    price: 1999,
    image: 'assets/images/men/Nike/m-nike-3.png',
    qty: 1,
  },
  {
    id: 12,
    name: "Nike Free",
    brand: "nike",
    price: 3999,
    image: 'assets/images/men/Nike/m-nike-4.png',
    qty: 1,
  },
]

const ITEMS_ADIDAS = [
  //Adidas Shoes [ 25-32 ]
  {
    id: 25,
    name: "Adidas Superstar",
    brand: "adidas",
    price: 2499,
    image: 'assets/images/men/adidas/m-adidas-1.png',
    qty: 1,
  },
  {
    id: 26,
    name: "Adidas Ultraboost",
    brand: "adidas",
    price: 1999,
    image: 'assets/images/men/adidas/m-adidas-2.png',
    qty: 1,
  },
  {
    id: 27,
    name: "Adidas Stan Smith",
    brand: "adidas",
    price: 3999,
    image: 'assets/images/men/adidas/m-adidas-3.png',
    qty: 1,
  },
  {
    id: 28,
    name: "Adidas PureBoost",
    brand: "adidas",
    price: 4499,
    image: 'assets/images/men/adidas/m-adidas-4.png',
    qty: 1,
  },
  {
    id: 29,
    name: "Adidas Copa",
    brand: "adidas",
    price: 2999,
    image: 'assets/images/men/adidas/m-adidas-5.png',
    qty: 1,
  },
  {
    id: 30,
    name: "Adidas Hyperon",
    brand: "adidas",
    price: 1699,
    image: 'assets/images/men/adidas/m-adidas-6.png',
    qty: 1,
  },
  {
    id: 31,
    name: "Adidas Galaxy 6",
    brand: "adidas",
    price: 4499,
    image: 'assets/images/men/adidas/m-adidas-7.png',
    qty: 1,
  },
  {
    id: 32,
    name: "Adidas Fluidflow",
    brand: "adidas",
    price: 1999,
    image: 'assets/images/men/adidas/m-adidas-8.png',
    qty: 1,
  },
]

const ITEMS_BATA = [
  //Bata Shoes [ 33-40 ]
  {
    id: 33,
    name: "Bata Comfit",
    brand: "bata",
    price: 1499,
    image: 'assets/images/men/bata/m-bata-1.png',
    qty: 1,
  },
  {
    id: 34,
    name: "Bata Sunshine",
    brand: "bata",
    price: 2999,
    image: 'assets/images/men/bata/m-bata-2.png',
    qty: 1,
  },
  {
    id: 35,
    name: "Bata 3D",
    brand: "bata",
    price: 4499,
    image: 'assets/images/men/bata/m-bata-3.png',
    qty: 1,
  },
  {
    id: 36,
    name: "Bata Red Label",
    brand: "bata",
    price: 2499,
    image: 'assets/images/men/bata/m-bata-4.png',
    qty: 1,
  },
  {
    id: 37,
    name: "Bata FLOATZ",
    brand: "bata",
    price: 3999,
    image: 'assets/images/men/bata/m-bata-5.png',
    qty: 1,
  },
  {
    id: 38,
    name: "Bata Power",
    brand: "bata",
    price: 2499,
    image: 'assets/images/men/bata/m-bata-6.png',
    qty: 1,
  },
  {
    id: 39,
    name: "Bata Puppies",
    brand: "bata",
    price: 1999,
    image: 'assets/images/men/bata/m-bata-7.png',
    qty: 1,
  },
  {
    id: 40,
    name: "Bata North Star",
    brand: "bata",
    price: 3999,
    image: 'assets/images/men/bata/m-bata-8.png',
    qty: 1,
  },
];


let cart_data = [];

const openBtn = document.getElementById('open-cart-btn');
const cart = document.getElementById('Mycart');
const closeBtn = document.getElementById('close-btn');

const ItemsE1 = document.getElementById('all');
const ItemsE2 = document.getElementById('nike');
const ItemsE3 = document.getElementById('puma');
const ItemsE4 = document.getElementById('adidas');
const ItemsE5 = document.getElementById('bata');

const special = document.getElementById('special');


const cartItems = document.getElementById('cart-items');
const itemsNum = document.getElementById('items-nums');
const subtotalPrice = document.getElementById('subtotal-price');


openBtn.addEventListener('click', openCart);
closeBtn.addEventListener('click', closeCart);
renderItems()
renderCart()

function openCart() {
  cart.classList.add('open');
}

function closeCart() {
  cart.classList.remove('open');
}

//Add items to Cart

function addItemAll(idx, itemId) {
  const foundedItem = cart_data.find(
    (item) => item.id.toString() === itemId.toString()
  );
  if (foundedItem) {
    IncreaseQty(itemId);
  }
  else {
    cart_data.push(ITEMS_ALL[idx]);
  }
  updateCart();
  openCart();
}

function addItemNike(idx, itemId) {
  const foundedItem = cart_data.find(
    (item) => item.id.toString() === itemId.toString()
  );
  if (foundedItem) {
    IncreaseQty(itemId);
  }
  else {
    cart_data.push(ITEMS_NIKE[idx]);
  }
  updateCart();
  openCart();
}

function addItemPuma(idx, itemId) {
  const foundedItem = cart_data.find(
    (item) => item.id.toString() === itemId.toString()
  );
  if (foundedItem) {
    IncreaseQty(itemId);
  }
  else {
    cart_data.push(ITEMS_PUMA[idx]);
  }
  updateCart();
  openCart();
}

function addItemAdidas(idx, itemId) {
  const foundedItem = cart_data.find(
    (item) => item.id.toString() === itemId.toString()
  );
  if (foundedItem) {
    IncreaseQty(itemId);
  }
  else {
    cart_data.push(ITEMS_ADIDAS[idx]);
  }
  updateCart();
  openCart();
}

function addItemBata(idx, itemId) {
  const foundedItem = cart_data.find(
    (item) => item.id.toString() === itemId.toString()
  );
  if (foundedItem) {
    IncreaseQty(itemId);
  }
  else {
    cart_data.push(ITEMS_BATA[idx]);
  }
  updateCart();
  openCart();
}

//Remove item
function removeCartItem(itemId) {
  cart_data = cart_data.filter((item) => item.id != itemId)
  updateCart()
}


// Increace Qty
function IncreaseQty(itemId) {
  cart_data = cart_data.map((item) =>
    item.id.toString() === itemId.toString()
      ? { ...item, qty: item.qty + 1 }
      : item
  )
  updateCart()
}


// Decrease Qty
function DecreaseQty(itemId) {
  cart_data = cart_data.map((item) =>
    item.id.toString() === itemId.toString()
      ? { ...item, qty: item.qty > 1 ? item.qty - 1 : item.qty }
      : item
  )
  updateCart()
}

//Calculate Item Number

function calculateNum() {
  let itemCount = 0;

  cart_data.forEach((item) => (itemCount += item.qty))

  itemsNum.innerText = itemCount;
}

//Calculate Subtotal Price
function calcSubTotal() {
  var subtotal = 0;

  cart_data.forEach((item) => (subtotal += item.price * item.qty))

  subtotalPrice.innerText = subtotal;
}

function renderItems() {
  ITEMS_ALL.forEach((item, idx) => {
    const itemE1 = document.createElement('li');
    itemE1.classList.add('product-item');
    itemE1.innerHTML = `
        <div class="product-card" tabindex="0">

                <figure class="card-banner">
                  <img src="${item.image}" width="312" height="350" loading="lazy"
                    alt="Running Sneaker Shoes" class="image-contain">

                  <ul class="card-action-list">

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemAll(${idx},${item.id})">
                        <ion-icon name="cart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-2">
                        <ion-icon name="heart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-3">
                        <ion-icon name="eye-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-4">
                        <ion-icon name="bag-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-4">Buy now</div>
                    </li>

                  </ul>
                </figure>

                <div class="card-content">

                  <h3 class="h3 card-title">
                    <a href="#">${item.name}</a>
                  </h3>

                  <data class="card-price" value="180.85">₹${item.price}</data>

                </div>

              </div>
        `

    ItemsE1.appendChild(itemE1);
  });


  ITEMS_NIKE.forEach((item, idx) => {
    const itemE1 = document.createElement('li');

    itemE1.classList.add('product-item');
    itemE1.innerHTML = `
        <div class="product-card" tabindex="0">

                <figure class="card-banner">
                  <img src="${item.image}" width="312" height="350" loading="lazy"
                    alt="Running Sneaker Shoes" class="image-contain">

                  <ul class="card-action-list">

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemNike(${idx},${item.id})">
                        <ion-icon name="cart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-2">
                        <ion-icon name="heart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-3">
                        <ion-icon name="eye-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-4">
                        <ion-icon name="bag-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-4">Buy now</div>
                    </li>

                  </ul>
                </figure>

                <div class="card-content">

                  <h3 class="h3 card-title">
                    <a href="#">${item.name}</a>
                  </h3>

                  <data class="card-price" value="180.85">₹${item.price}</data>

                </div>

              </div>
        `

    ItemsE2.appendChild(itemE1);
  })


  ITEMS_PUMA.forEach((item, idx) => {
    const itemE1 = document.createElement('li');

    itemE1.classList.add('product-item');
    itemE1.innerHTML = `
        <div class="product-card" tabindex="0">

                <figure class="card-banner">
                  <img src="${item.image}" width="312" height="350" loading="lazy"
                    alt="Running Sneaker Shoes" class="image-contain">

                  <ul class="card-action-list">

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemPuma(${idx},${item.id})">
                        <ion-icon name="cart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-2">
                        <ion-icon name="heart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-3">
                        <ion-icon name="eye-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-4">
                        <ion-icon name="bag-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-4">Buy now</div>
                    </li>

                  </ul>
                </figure>

                <div class="card-content">

                  <h3 class="h3 card-title">
                    <a href="#">${item.name}</a>
                  </h3>

                  <data class="card-price" value="180.85">₹${item.price}</data>

                </div>

              </div>
        `

    ItemsE3.appendChild(itemE1);
  })


  ITEMS_ADIDAS.forEach((item, idx) => {
    const itemE1 = document.createElement('li');

    itemE1.classList.add('product-item');
    itemE1.innerHTML = `
        <div class="product-card" tabindex="0">

                <figure class="card-banner">
                  <img src="${item.image}" width="312" height="350" loading="lazy"
                    alt="Running Sneaker Shoes" class="image-contain">

                  <ul class="card-action-list">

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemAdidas(${idx},${item.id})">
                        <ion-icon name="cart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-2">
                        <ion-icon name="heart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-3">
                        <ion-icon name="eye-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-4">
                        <ion-icon name="bag-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-4">Buy now</div>
                    </li>

                  </ul>
                </figure>

                <div class="card-content">

                  <h3 class="h3 card-title">
                    <a href="#">${item.name}</a>
                  </h3>

                  <data class="card-price" value="180.85">₹${item.price}</data>

                </div>

              </div>
        `
    ItemsE4.appendChild(itemE1);
  })


  ITEMS_BATA.forEach((item, idx) => {
    const itemE1 = document.createElement('li');

    itemE1.classList.add('product-item');
    itemE1.innerHTML = `
        <div class="product-card" tabindex="0">

                <figure class="card-banner">
                  <img src="${item.image}" width="312" height="350" loading="lazy"
                    alt="Running Sneaker Shoes" class="image-contain">

                  <ul class="card-action-list">

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemBata(${idx},${item.id})">
                        <ion-icon name="cart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-2">
                        <ion-icon name="heart-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-3">
                        <ion-icon name="eye-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                    </li>

                    <li class="card-action-item">
                      <button class="card-action-btn" aria-labelledby="card-label-4">
                        <ion-icon name="bag-outline"></ion-icon>
                      </button>

                      <div class="card-action-tooltip" id="card-label-4">Buy now</div>
                    </li>

                  </ul>
                </figure>

                <div class="card-content">

                  <h3 class="h3 card-title">
                    <a href="#">${item.name}</a>
                  </h3>

                  <data class="card-price" value="180.85">₹${item.price}</data>

                </div>

              </div>
        `

    ItemsE5.appendChild(itemE1);
  })

  ITEMS_NIKE_SPECIAL.forEach((item, idx) => {
    const itemE1 = document.createElement('li');
    itemE1.classList.add('product-item');

    itemE1.innerHTML = `
    <div class="product-card" tabindex="0">

                  <figure class="card-banner">
                    <img src="${item.image}" width="312" height="350" loading="lazy"
                      alt="Running Sneaker Shoes" class="image-contain">

                    <div class="card-badge">New</div>

                    <ul class="card-action-list">

                      <li class="card-action-item">
                        <button class="card-action-btn" aria-labelledby="card-label-1" onClick="addItemNike(${idx},${item.id})">
                          <ion-icon name="cart-outline"></ion-icon>
                        </button>

                        <div class="card-action-tooltip" id="card-label-1">Add to Cart</div>
                      </li>

                      <li class="card-action-item">
                        <button class="card-action-btn" aria-labelledby="card-label-2">
                          <ion-icon name="heart-outline"></ion-icon>
                        </button>

                        <div class="card-action-tooltip" id="card-label-2">Add to Whishlist</div>
                      </li>

                      <li class="card-action-item">
                        <button class="card-action-btn" aria-labelledby="card-label-3">
                          <ion-icon name="eye-outline"></ion-icon>
                        </button>

                        <div class="card-action-tooltip" id="card-label-3">Quick View</div>
                      </li>

                      <li class="card-action-item">
                        <button class="card-action-btn" aria-labelledby="card-label-4">
                          <ion-icon name="repeat-outline"></ion-icon>
                        </button>

                        <div class="card-action-tooltip" id="card-label-4">Compare</div>
                      </li>

                    </ul>
                  </figure>

                  <div class="card-content">

                    <h3 class="h3 card-title">
                      <a href="#">${item.name}</a>
                    </h3>

                    <data class="card-price">₹${item.price}</data>

                  </div>

                </div>
    `
    special.appendChild(itemE1);
  })
}


function renderCart() {
  cartItems.innerHTML = '';
  cart_data.forEach((item) => {
    const cartItem = document.createElement('div');
    cartItem.classList.add('cart-item');
    cartItem.innerHTML = `
        <div class="remove-item" onClick="removeCartItem(${item.id})">
                  <span>&times;</span>
                </div>
                <div class="item-img">
                  <img src="${item.image}" alt="">
                </div>
                <div class="item-details">
                  <p>${item.name}</p>
                  <strong>₹${item.price}</strong>
                  <div class="qty">
                    <span onClick="DecreaseQty(${item.id})">-</span>
                    <strong>${item.qty}</strong>
                    <span onClick="IncreaseQty(${item.id})">+</span>
                  </div>
                </div>
        `
    cartItems.appendChild(cartItem);
  });
}

function updateCart() {
  renderCart()
  calculateNum()
  calcSubTotal()
}
